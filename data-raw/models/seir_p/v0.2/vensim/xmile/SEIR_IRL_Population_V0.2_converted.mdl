{UTF-8}
:MACRO: INT(IN)
INT=INTEGER(IN)
	~	in
	~	|
:END OF MACRO:

:MACRO: LOG10(IN)
LOG10=LOG(IN,10)
	~	DMNL
	~	|
:END OF MACRO:

********************************************************
	.Control
********************************************************~
		Simulation Control Parameters
|

INITIAL TIME = 1
	~	Day
	~	|

FINAL TIME = 300
	~	Day
	~	|

TIME STEP = 0.125
	~	Day
	~	|

SAVEPER = INITIAL(TIME STEP)
	~	Day
	~	|

.Control :
	~	
	~	|

.seir irl population v0.2 :
	~	
	~	|

"Asymptomatic_Infected_01" = INTEG (  + 
					IP02a
					 - 
					ASI1
					 , 0\
 ) 
	~	People
	~	Model Equation (4) - Compartment 1
	|

"Asymptomatic_Infected_02" = INTEG (  + 
					ASI1
					 - 
					ASI2
					 , 0 \
) 
	~	People
	~	Model Equation (4) - Compartment 2
	|

"Awaiting_Results_01" = INTEG (  + 
					IP02c
					 - 
					AR1
					 , 0 ) 
	~	People
	~	Model Equation (6)
	|

"Awaiting_Results_02" = INTEG (  + 
					AR1
					 - 
					EntHos
					 - 
					\
EntRem
					 , 0 ) 
	~	People
	~	Model Equation (7)
	|

"Cumulative_Immediate_Isolation" = INTEG (  + 
					ICII
					 , 0 ) 
	~	People
	~	
	|

"Cumulative_Infectious_Asymptomatic" = INTEG (  + 
					ICIA
					 , 0 ) 
	~	People
	~	
	|

"Cumulative_Model_Infected" = INTEG (  + 
					ICI
					 , 0 ) 
	~	People
	~	Keep track of the total number infected (cumulative)
	|

"Cumulative_Not_Quarantined" = INTEG (  + 
					ICNQ
					 , 0 ) 
	~	People
	~	
	|

"Cumulative_Test_Incidence" = INTEG (  + 
					ICTI
					 , 0 ) 
	~	People
	~	Model Equation (10)
	|

"Cumulative_Tests_Positive" = INTEG (  + 
					ICTP
					 , 0 ) 
	~	People
	~	
	|

"Expected_ICU_Exits" = INTEG (  + 
					CEICUE
					 , 0 ) 
	~	People/Day
	~	
	|

"Exposed_01" = INTEG (  + 
					IR
					 - 
					E01
					 , 0 ) 
	~	People
	~	Model Equation (2) First Compartment
	|

"Exposed_02" = INTEG (  + 
					E01
					 - 
					E02
					 , 0 ) 
	~	People
	~	Model Equation (2) Second Compartment
	|

"In_Hospital_01" = INTEG (  + 
					EntHos
					 - 
					EXH01a
					 - 
					EX\
H01b
					 , 0 ) 
	~	People
	~	
	|

"In_Hospital_02" = INTEG (  + 
					EXH01b
					 - 
					EXH02
					 , 0 ) 
	~	People
	~	
	|

"In_Hospital_03" = INTEG (  + 
					EXH02
					 - 
					EXH03
					 , 0 ) 
	~	People
	~	
	|

"In_Hospital_Severe" = INTEG (  + 
					EXH01a
					 - 
					IHS01
					 - 
				\
	IHS02
					 , 0 ) 
	~	People
	~	
	|

"Infected_Presymptomatic_01" = INTEG (  + 
					E02
					 - 
					IP01
					 , Z\
ZNumber_Seeds ) 
	~	People
	~	Model Equation (3) - Compartment 1
	|

"Infected_Presymptomatic_02" = INTEG (  + 
					IP01
					 - 
					IP02a
					 -\
 
					IP02b
					 - 
					IP02c
					 - 
					IP02d
					 , 0 ) 
	~	People
	~	Model Equation (3) - Compartment 2
	|

"Not_Quarantine_Infectious_01" = INTEG (  + 
					IP02d
					 - 
					NQI1
					\
 , 0 ) 
	~	People
	~	Model Equation (8) - Compartment 1
	|

"Not_Quarantine_Infectious_02" = INTEG (  + 
					NQI1
					 - 
					NQI2
					 \
, 0 ) 
	~	People
	~	Model Equation (8) - Compartment 2
	|

"Physical_Distancing_Smoothed_Value" = INTEG (  + 
					CPDSV
					 , 1 ) 
	~	Dmnl
	~	
	|

"Removed_Asymptomatic" = INTEG (  + 
					ASI2
					 , 0 ) 
	~	People
	~	Model Equation (9) - First Term
	|

"Removed_Awaiting_Results" = INTEG (  + 
					EntRem
					 , 0 ) 
	~	People
	~	Model Equation (9) - Third Term
	|

"Removed_Hospital" = INTEG (  + 
					EXH03
					 , 0 ) 
	~	People
	~	
	|

"Removed_Not_Quarantine" = INTEG (  + 
					NQI2
					 , 0 ) 
	~	People
	~	Model Equation (9) - Fourth Term
	|

"Removed_Severe_Cases_Hospital" = INTEG (  + 
					SCH02
					 , 0 ) 
	~	People
	~	
	|

"Removed_Severe_Cases_ICU" = INTEG (  + 
					ICU02
					 , 0 ) 
	~	People
	~	
	|

"Removed_Symptomatic_Immediate_Isolation" = INTEG (  + 
					SII02
					 , 0 ) 
	~	People
	~	Model Equation (9) - Second Term
	|

"Severe_Cases_Hospital_01" = INTEG (  + 
					IHS02
					 - 
					SCH01
					 , \
0 ) 
	~	People
	~	
	|

"Severe_Cases_Hospital_02" = INTEG (  + 
					SCH01
					 - 
					SCH02
					 , \
0 ) 
	~	People
	~	
	|

"Severe_Cases_ICU_01" = INTEG (  + 
					IHS01
					 - 
					ICU01
					 , 0 ) 
	~	People
	~	
	|

"Severe_Cases_ICU_02" = INTEG (  + 
					ICU01
					 - 
					ICU02
					 , 0 ) 
	~	People
	~	
	|

"Susceptible" = INTEG (  - 
					IR
					 , ZZTotal_Population-ZZNumber_Seeds ) \

	~	People
	~	Model Equation (1)
	|

"Symptomatic_Immediate_Isolation_01" = INTEG (  + 
					IP02b
					 - 
					SII0\
1
					 , 0 ) 
	~	People
	~	Model Equation (5) - Compartment 1
	|

"Symptomatic_Immediate_Isolation_02" = INTEG (  + 
					SII01
					 - 
					SII0\
2
					 , 0 ) 
	~	People
	~	Model Equation (5) - Compartment 2
	|

"Actual_Pulse_Flag" = PULSE_TRAIN(ZZPulse_Start_Time , ZZPulse_Duration , Pulse_\
Repeat , ZZPulse_End )
	~	
	~	
	|

"Additional_ICU_Places_Required" = max(0,Total_Severe_in_NonICU_Hospital-Total_S\
evere_in_ICU)
	~	People
	~	
	|

"AR1" = Awaiting_Results_01/ZZAverage_Wait_for_Results
	~	People/Day
	~	
	|

"ASI1" = Asymptomatic_Infected_01/(Net_Infectious_Period_for_Infection_Compartme\
nts/2)
	~	People/Day
	~	
	|

"ASI2" = Asymptomatic_Infected_02/(Net_Infectious_Period_for_Infection_Compartme\
nts/2)
	~	People/Day
	~	
	|

"Asymptomatic_Infectious_Period" = ZZIncubation_Period_C-ZZLatent_Period_L
	~	Day
	~	
	|

"Beta" = ZZBeta_Calibrated*Physical_Distancing_Smoothed_Value*Beta_Pulse_Reducti\
on_Factor
	~	1/Day
	~	Transmission parameter = R0/Total Infectious Period
	|

"Beta_Pulse_Reduction_Factor" = 1-Step(0.2,ZZSwitch_Time)
	~	
	~	An assumption that there is limited social distancing during the reopen phase
	|

"C01_Total_Infected_Presymptomatic" = Infected_Presymptomatic_01+Infected_Presym\
ptomatic_02
	~	People
	~	Total Presymptomatic Infected (Subclinical infectious)
	|

"C02_Total_Asymptomatic_Infected" = Asymptomatic_Infected_01+Asymptomatic_Infect\
ed_02
	~	People
	~	
	|

"C03_Total_Symptomatic_Immediate_Isolation_Infectious" = Symptomatic_Immediate_I\
solation_01+Symptomatic_Immediate_Isolation_02
	~	People
	~	
	|

"C04_Total_Awaiting_Results_Infectious" = Awaiting_Results_01
	~	People
	~	
	|

"C05_Total_Isolated_After_Test_Infected" = Awaiting_Results_02
	~	People
	~	
	|

"C06_Total_Not_Quarantining_Infected" = Not_Quarantine_Infectious_01+Not_Quarant\
ine_Infectious_02
	~	People
	~	
	|

"CEICUE" = Error_Delta/ZZAT
	~	People/(Day*Day)
	~	
	|

"Checksum_Cumulative_Flows" = Cumulative_Immediate_Isolation+Cumulative_Infectio\
us_Asymptomatic+Cumulative_Not_Quarantined+Cumulative_Tests_Positive
	~	People
	~	
	|

"CheckSum_Population" = Susceptible+Total_Exposed+Total_Infectious+Total_Removed\
+Total_in_Hospital
	~	People
	~	
	|

"CPDSV" = PDSVG/ZZPDAT
	~	Dmnl/Day
	~	
	|

"E01" = Exposed_01/(ZZLatent_Period_L/2)
	~	People/Day
	~	Exit rate from Exposed 01
	|

"E02" = Exposed_02/(ZZLatent_Period_L/2)
	~	People/Day
	~	Exit rate from Exposed 02
	|

"EntHos" = ZZProportion_Hospitalised*Total_Exiting_AR02
	~	People/Day
	~	
	|

"EntRem" = (1-ZZProportion_Hospitalised)*Total_Exiting_AR02
	~	People/Day
	~	
	|

"Error_Delta" = ICU02-Expected_ICU_Exits
	~	People/Day
	~	
	|

"EXH01a" = ZZFraction_in_Risk_Group*ZZFraction_In_Hospital_Severe*Total_Exiting_\
Hospital_01
	~	People/Day
	~	
	|

"EXH01b" = (1-ZZFraction_In_Hospital_Severe)*Total_Exiting_Hospital_01
	~	People/Day
	~	
	|

"EXH02" = In_Hospital_02/(ZZAverage_HLOS/3)
	~	People/Day
	~	
	|

"EXH03" = In_Hospital_03/(ZZAverage_HLOS/3)
	~	People/Day
	~	
	|

"ICI" = IR
	~	People/Day
	~	
	|

"ICIA" = IP02a
	~	People/Day
	~	
	|

"ICII" = IP02b
	~	People/Day
	~	
	|

"ICNQ" = IP02d
	~	People/Day
	~	
	|

"ICTI" = AR1
	~	People/Day
	~	
	|

"ICTP" = IP02c
	~	People/Day
	~	
	|

"ICU_Available_Space" = ICU_Daily_Freed_Up_Space+ZZICU_Available_Capacity-Total_\
Severe_in_ICU
	~	People
	~	
	|

"ICU_Daily_Freed_Up_Space" = Expected_ICU_Exits/ZZLag_Time
	~	People
	~	
	|

"ICU01" = Severe_Cases_ICU_01/(ZZICU_Residency_Time/2)
	~	People/Day
	~	
	|

"ICU02" = Severe_Cases_ICU_02/(ZZICU_Residency_Time/2)
	~	People/Day
	~	
	|

"IHS01" = min(ICU_Available_Space,Total_Exiting_Hospital_Severe)
	~	People/Day
	~	
	|

"IHS02" = Total_Exiting_Hospital_Severe-min(ICU_Available_Space,Total_Exiting_Ho\
spital_Severe)
	~	People/Day
	~	
	|

"IP01" = Infected_Presymptomatic_01/(Asymptomatic_Infectious_Period/2)
	~	People/Day
	~	Exit rate from Infected Presymptomatic 01
	|

"IP02_Outflow_Total_Exiting_Checksum" = IP02a+IP02b+IP02c+IP02d
	~	People/Day
	~	
	|

"IP02a" = Total_Exiting_IP02*ZZProportion_Asymptomatic_f
	~	People/Day
	~	
	|

"IP02b" = Total_Exiting_IP02*(1-ZZProportion_Asymptomatic_f)*ZZProportion_Quaran\
tined_q
	~	People/Day
	~	
	|

"IP02c" = Total_Exiting_IP02*(1-ZZProportion_Asymptomatic_f)*ZZProportion_Tested\
_t
	~	People/Day
	~	
	|

"IP02d" = Total_Exiting_IP02*(1-ZZProportion_Asymptomatic_f)*(1-ZZProportion_Tes\
ted_t-ZZProportion_Quarantined_q)
	~	People/Day
	~	
	|

"IR" = Lambda*Susceptible
	~	People/Day
	~	Infection rate (indicence) in the population
	|

"Lambda" = ((Beta*C01_Total_Infected_Presymptomatic)+(Beta*ZZBeta_Multiplier_h*Z\
ZBeta_Multiplier_k*C02_Total_Asymptomatic_Infected)+(Beta*ZZBeta_Multiplier_i \
	*C03_Total_Symptomatic_Immediate_Isolation_Infectious)+(Beta*C04_Total_Awaiti\
ng_Results_Infectious)+(Beta*ZZBeta_Multiplier_j 	*C05_Total_Isolated_After_Te\
st_Infected)+(Beta*C06_Total_Not_Quarantining_Infected))/ZZTotal_Population
	~	1/Day
	~	Force of infection, with contributions from all of the infected compartments.
	|

"Net_Infectious_Period_for_Infection_Compartments" = ZZTotal_Infectious_Period_D\
+ZZLatent_Period_L-ZZIncubation_Period_C
	~	Day
	~	
	|

"NQI1" = Not_Quarantine_Infectious_01/(Net_Infectious_Period_for_Infection_Compa\
rtments/2)
	~	People/Day
	~	
	|

"NQI2" = Not_Quarantine_Infectious_02/(Net_Infectious_Period_for_Infection_Compa\
rtments/2)
	~	People/Day
	~	
	|

"PDSVG" = Physical_Distancing_Fractional_Reduction_Amount-Physical_Distancing_Sm\
oothed_Value
	~	Dmnl
	~	
	|

"Physical_Distancing_Fractional_Reduction_Amount" = if_then_else(pulse_policy=1 \
:or: zzdistancing_flag=1 , 1-zzpercentage_reduction_of_physical_disancing 	 , \
1 )
	~	Dmnl
	~	If any policy is active, physical distancing occurs
	|

"Population_Attack_Rate" = Total_Removed/ZZTotal_Population
	~	Dmnl
	~	
	|

"Pulse_Policy" = ZZPulse_Strategy_Flag*Actual_Pulse_Flag
	~	
	~	The overall policy
	|

"Pulse_Repeat" = ZZPulse_Duration+ZZPulse_Off_Duration
	~	
	~	The lag time between pulse peaks
	|

"Reported_Incidence" = AR1
	~	People/Day
	~	
	|

"SCH01" = Severe_Cases_Hospital_01/(ZZAverage_HLOS/2)
	~	People/Day
	~	
	|

"SCH02" = Severe_Cases_Hospital_02/(ZZAverage_HLOS/2)
	~	People/Day
	~	
	|

"SII01" = Symptomatic_Immediate_Isolation_01/(Net_Infectious_Period_for_Infectio\
n_Compartments/2)
	~	People/Day
	~	
	|

"SII02" = Symptomatic_Immediate_Isolation_02/(Net_Infectious_Period_for_Infectio\
n_Compartments/2)
	~	People/Day
	~	
	|

"Total_Exiting_AR02" = Awaiting_Results_02/(max(1,Net_Infectious_Period_for_Infe\
ction_Compartments-ZZAverage_Wait_for_Results))
	~	People/Day
	~	
	|

"Total_Exiting_Hospital_01" = In_Hospital_01/(ZZAverage_HLOS/3)
	~	People/Day
	~	
	|

"Total_Exiting_Hospital_Severe" = In_Hospital_Severe/ZZRTime_Severe
	~	People/Day
	~	
	|

"Total_Exiting_IP02" = Infected_Presymptomatic_02/(Asymptomatic_Infectious_Perio\
d/2)
	~	People/Day
	~	Total exit rate from Infected Presymptomatic 02
	|

"Total_Exposed" = Exposed_01+Exposed_02
	~	People
	~	
	|

"Total_Hospitalised" = In_Hospital_01+In_Hospital_02+In_Hospital_03
	~	People
	~	
	|

"Total_in_Hospital" = Total_in_Hospital_Non_Severe+Total_Severe_in_NonICU_Hospit\
al+Total_Severe_in_ICU+In_Hospital_Severe
	~	People
	~	
	|

"Total_in_Hospital_Non_Severe" = In_Hospital_01+In_Hospital_02+In_Hospital_03
	~	People
	~	
	|

"Total_Infectious" = C01_Total_Infected_Presymptomatic+C02_Total_Asymptomatic_In\
fected+C03_Total_Symptomatic_Immediate_Isolation_Infectious+C04_Total_Awaiting\
_Results_Infectious+C05_Total_Isolated_After_Test_Infected+C06_Total_Not_Quara\
ntining_Infected
	~	People
	~	
	|

"Total_Removed" = Removed_Asymptomatic+Removed_Awaiting_Results+Removed_Hospital\
+Removed_Not_Quarantine+Removed_Severe_Cases_Hospital+Removed_Severe_Cases_ICU\
+Removed_Symptomatic_Immediate_Isolation
	~	People
	~	
	|

"Total_Severe_in_Hospital" = Total_Severe_in_ICU+Total_Severe_in_NonICU_Hospital\

	~	People
	~	
	|

"Total_Severe_in_ICU" = Severe_Cases_ICU_01+Severe_Cases_ICU_02
	~	People
	~	
	|

"Total_Severe_in_NonICU_Hospital" = Severe_Cases_Hospital_01+Severe_Cases_Hospit\
al_02
	~	People
	~	
	|

"ZZDistancing_Flag" = (0+Step(1,ZZDistancing_Start_Time)-Step(1,ZZSwitch_Time))*\
ZZDistancing_Switch
	~	
	~	Whether or not physical distancing is being implemented
	|

"ZZPulse_Start_Time" = ZZSwitch_Time+ZZPulse_Off_Duration
	~	
	~	The start time for the pulse strategy
	|

"ZZPulse_Strategy_Flag" = (0+Step(1,ZZSwitch_Time+ZZPulse_Off_Duration))*ZZPulse\
_Switch
	~	
	~	Whether or not the pulse startegy is enabled. It will start after the physical distancing has ended (following an initial lag)
	|

"ZZAT" = 1
	~	Day
	~	
	|

"ZZAverage_HLOS" = 15
	~	Day
	~	
	|

"ZZAverage_Wait_for_Results" = 2
	~	Day
	~	
	|

"ZZBeta_Calibrated" = 1.12
	~	1/Day
	~	Beta value calibrated to Irish data
	|

"ZZBeta_Multiplier_h" = 0.21
	~	Dmnl
	~	Multiplicative factor for reduction in infectiousness of asymptomatic infected compartment
	|

"ZZBeta_Multiplier_i" = 0.08
	~	Dmnl
	~	Multiplier on isolation compartment
	|

"ZZBeta_Multiplier_j" = 0.12
	~	Dmnl
	~	
	|

"ZZBeta_Multiplier_k" = 1
	~	Dmnl
	~	
	|

"ZZDistancing_Start_Time" = 20
	~	
	~	Start time for physical distancing
	|

"ZZDistancing_Switch" = 1
	~	
	~	A switch that activates physical distancing
	|

"ZZFraction_In_Hospital_Severe" = 0
	~	Dmnl
	~	
	|

"ZZFraction_in_Risk_Group" = 0
	~	Dmnl
	~	
	|

"ZZICU_Available_Capacity" = 250
	~	People
	~	
	|

"ZZICU_Residency_Time" = 10
	~	Day
	~	
	|

"ZZIncubation_Period_C" = 5.19
	~	Day
	~	Duration of time at incubation stage
	|

"ZZLag_Time" = 1
	~	1/Day
	~	
	|

"ZZLatent_Period_L" = 3.55
	~	Day
	~	Duration of time in incubation stage
	|

"ZZNumber_Seeds" = 1
	~	People
	~	Number of seeds initially importing the virus
	|

"ZZPDAT" = 4
	~	Day
	~	
	|

"ZZPercentage_Reduction_of_Physical_Disancing" = 0.6
	~	Dmnl
	~	
	|

"ZZProportion_Asymptomatic_f" = 0.25
	~	Dmnl
	~	Proportion of infected who show symptoms
	|

"ZZProportion_Hospitalised" = 0
	~	Dmnl
	~	
	|

"ZZProportion_Quarantined_q" = 0.05
	~	Dmnl
	~	Proportion quarantined
	|

"ZZProportion_Tested_t" = 0.88
	~	Dmnl
	~	
	|

"ZZPulse_Duration" = 21
	~	
	~	The duration of the pulsed social distancing
	|

"ZZPulse_End" = 300
	~	
	~	
	|

"ZZPulse_Off_Duration" = 10
	~	
	~	The duration when the policy is off (i.e. social distancing is relaxed)
	|

"ZZPulse_Switch" = 1
	~	
	~	A switch to activate the pulse policy
	|

"ZZRTime_Severe" = 1
	~	Day
	~	
	|

"ZZSwitch_Time" = 60
	~	
	~	The time that continuous physical distancing ends
	|

"ZZTotal_Infectious_Period_D" = 4.13
	~	Day
	~	Duration of infectiousness
	|

"ZZTotal_Population" = 4.99997e+06
	~	People
	~	Total Population at outset of epidemic
	|

\\\---/// Sketch information - do not modify anything except names
V300  Do not put anything below this section - it will be ignored
*View 1
$0-0-0,0,|0||0-0-0|0-0-0|0-0-0|0-0-0|0-0-0|0,0,100,0
///---\\\
:L<^E!@
15:0,0,0,1,0,0
